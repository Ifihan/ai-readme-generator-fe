import{a as g}from"./chunk-7APNSPFN.js";import{H as s,Ia as m,Ja as d,P as t,Q as l,Ta as u,Va as h,_a as b,ca as o,da as r,ea as p,qa as a}from"./chunk-SUWS7CD2.js";var f=class c{constructor(i,e,n,v){this.route=i;this.router=e;this.authService=n;this.platformId=v;this.isBrowser=d(this.platformId)}isBrowser;ngOnInit(){this.route.queryParams.subscribe(i=>{let e=i.token;e&&this.isBrowser?(localStorage.setItem(b.ACCESS_TOKEN,e),this.authService.getCurrentUser(e).subscribe({next:n=>{this.router.navigate(["/dashboard"])},error:n=>{}})):(console.warn("No OAuth token found in callback, redirecting to landing page"),this.router.navigate(["/"]))})}static \u0275fac=function(e){return new(e||c)(t(u),t(h),t(g),t(s))};static \u0275cmp=l({type:c,selectors:[["app-auth-callback"]],decls:7,vars:0,consts:[[1,"auth-callback-container"],[1,"auth-callback-card"],[1,"loading-spinner"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),a(3,"Completing Authentication"),r(),o(4,"p"),a(5,"Please wait while we complete the GitHub authentication process..."),r(),p(6,"div",2),r()())},dependencies:[m],styles:[".auth-callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--bg-primary)}.auth-callback-card[_ngcontent-%COMP%]{padding:30px;border-radius:8px;background-color:var(--bg-card);box-shadow:0 4px 12px #0000001a;text-align:center;max-width:500px}.loading-spinner[_ngcontent-%COMP%]{display:inline-block;width:40px;height:40px;margin:20px auto 0;border:4px solid rgba(0,0,0,.1);border-radius:50%;border-top-color:var(--primary);animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};export{f as AuthCallbackComponent};
